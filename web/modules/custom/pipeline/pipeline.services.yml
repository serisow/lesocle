services:
  plugin.manager.step_type:
    class: Drupal\pipeline\Plugin\StepTypeManager
    parent: default_plugin_manager

  plugin.manager.llm_service:
    class: Drupal\pipeline\Plugin\LLMServiceManager
    parent: default_plugin_manager

  plugin.manager.action_service:
    class: Drupal\pipeline\Plugin\ActionServiceManager
    parent: default_plugin_manager

  plugin.manager.model_manager:
    class: Drupal\pipeline\Plugin\ModelManager
    parent: default_plugin_manager

  pipeline.media_creation_service:
    class: Drupal\pipeline\Service\MediaCreationService
    arguments:
      - '@entity_type.manager'

  pipeline.image_download_service:
    class: Drupal\pipeline\Service\ImageDownloadService
    arguments:
      - '@http_client'
      - '@file_system'
      - '@file.repository'
      - '@entity_type.manager'
      - '@logger.factory'

  pipeline.error_handler:
    class: Drupal\pipeline\Service\PipelineErrorHandler
    arguments:
      - '@file_system'
      - '@file.repository'
      - '@date.formatter'
      - '@string_translation'
      - '@entity_type.manager'


  pipeline.batch:
    class: Drupal\pipeline\PipelineBatch
    arguments:
      - '@entity_type.manager'
      - '@messenger'
      - '@string_translation'
      - '@state'
      - '@datetime.time'
      - '@logger.factory'
      - '@pipeline.error_handler'

  pipeline.voice_preview_cleanup:
    class: Drupal\pipeline\Service\VoicePreviewCleanup
    arguments:
      - '@entity_type.manager'
      - '@tempstore.private'
